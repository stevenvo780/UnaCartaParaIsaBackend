# ๐ง Flujos del Sistema de IA de Agentes
:contentReference[oaicite:0]{index=0}

## ๐ Arquitectura del Ciclo de IA

```text
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                        MULTI-RATE SCHEDULER                                โ
โ  โโโโโโโโโโโโโโโ   โโโโโโโโโโโโโโโ   โโโโโโโโโโโโโโโ                      โ
โ  โ  FAST 50ms  โ   โ MEDIUM 250msโ   โ  SLOW 1000msโ                      โ
โ  โ โโโโโโโโโโโ โ   โ โโโโโโโโโโโ โ   โ โโโโโโโโโโโ โ                      โ
โ  โ Movement    โ   โ AISystem    โ   โ Economy     โ                      โ
โ  โ Combat      โ   โ Needs       โ   โ Market      โ                      โ
โ  โ             โ   โ Social      โ   โ Governance  โ                      โ
โ  โ             โ   โ Household   โ   โ Production  โ                      โ
โ  โ             โ   โ LifeCycle   โ   โ Building    โ                      โ
โ  โ             โ   โ Time        โ   โ Crafting    โ                      โ
โ  โ             โ   โ Role        โ   โ WorldRes    โ                      โ
โ  โ             โ   โ Task        โ   โ             โ                      โ
โ  โ             โ   โ Animal      โ   โ             โ                      โ
โ  โโโโโโโโโโโโโโโ   โโโโโโโโโโโโโโโ   โโโโโโโโโโโโโโโ                      โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                   โ
                                   โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                          AISystem.update()                                 โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ 1. Proceso por lotes (BATCH_SIZE = 2 agentes/tick)                   โ โ
โ  โ 2. Para cada agente:                                                 โ โ
โ  โ    โโโ Verificar si playerControlled โ SKIP                          โ โ
โ  โ    โโโ Verificar si offDuty โ SKIP                                   โ โ
โ  โ    โโโ Verificar si isDead โ SKIP                                    โ โ
โ  โ    โโโ processAgent()                                                โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
                                   โ
                                   โผ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                     processAgent(agentId, aiState, now)                    โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โ  โ 1. IF currentGoal exists:                                             โ โ
โ  โ    โโโ isGoalCompleted? โ completeGoal() โ shift queue                โ โ
โ  โ    โโโ isGoalInvalid? โ failGoal() โ clear goal                       โ โ
โ  โ    โโโ hasCurrentAction? โ RETURN (esperar)                           โ โ
โ  โ                                                                       โ โ
โ  โ 2. prePlanGoals() - Llenar cola de objetivos (MAX_QUEUED_GOALS = 3)   โ โ
โ  โ                                                                       โ โ
โ  โ 3. IF no currentGoal:                                                 โ โ
โ  โ    โโโ Tomar de goalQueue si existe                                   โ โ
โ  โ    โโโ makeDecision() โ planGoals() โ seleccionar mejor               โ โ
โ  โ                                                                       โ โ
โ  โ 4. IF currentGoal vรกlido:                                             โ โ
โ  โ    โโโ Validar objetivo antes de ejecutar                             โ โ
โ  โ    โโโ IF isMoving โ RETURN                                           โ โ
โ  โ    โโโ planAction() โ AIActionPlanner                                 โ โ
โ  โ    โโโ executeAction() โ AIActionExecutor                             โ โ
โ  โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
